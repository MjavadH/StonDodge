[gd_scene load_steps=18 format=3 uid="uid://knh3likqgnqc"]

[ext_resource type="PackedScene" uid="uid://duvwc1uuvlxjq" path="res://Player/Base/BaseShip.tscn" id="1_v7hqp"]
[ext_resource type="Texture2D" uid="uid://cmdunp4ckvmbe" path="res://Player/Ships/Thunderbolt/assets/Damaged.webp" id="2_1pyf5"]
[ext_resource type="Script" uid="uid://cousbvjqxplxh" path="res://Player/Ships/Thunderbolt/Thunderbolt.gd" id="2_r1ff7"]
[ext_resource type="Texture2D" uid="uid://drb7up15qt7tb" path="res://Player/Ships/Thunderbolt/assets/fly_off.webp" id="5_58hu5"]
[ext_resource type="Texture2D" uid="uid://c1q3o2ib2tlhi" path="res://Player/Ships/Thunderbolt/assets/fly.webp" id="6_k1pag"]
[ext_resource type="AudioStream" uid="uid://bp81pfhsam2h2" path="res://Player/Ships/Thunderbolt/Abilities/ThunderLeap/TeleportSound.ogg" id="6_sddl4"]
[ext_resource type="AudioStream" uid="uid://bnlb727nvgmyc" path="res://Player/Ships/Thunderbolt/Abilities/ThunderLeap/ExplodeSound.ogg" id="7_vrqmr"]

[sub_resource type="AtlasTexture" id="AtlasTexture_r1ff7"]
atlas = ExtResource("2_1pyf5")
region = Rect2(0, 0, 106, 116)

[sub_resource type="AtlasTexture" id="AtlasTexture_yavmg"]
atlas = ExtResource("2_1pyf5")
region = Rect2(106, 0, 106, 116)

[sub_resource type="AtlasTexture" id="AtlasTexture_sddl4"]
atlas = ExtResource("2_1pyf5")
region = Rect2(212, 0, 106, 116)

[sub_resource type="AtlasTexture" id="AtlasTexture_vrqmr"]
atlas = ExtResource("2_1pyf5")
region = Rect2(318, 0, 106, 116)

[sub_resource type="AtlasTexture" id="AtlasTexture_58hu5"]
atlas = ExtResource("2_1pyf5")
region = Rect2(424, 0, 106, 116)

[sub_resource type="AtlasTexture" id="AtlasTexture_k1pag"]
atlas = ExtResource("2_1pyf5")
region = Rect2(530, 0, 106, 116)

[sub_resource type="AtlasTexture" id="AtlasTexture_fu502"]
atlas = ExtResource("2_1pyf5")
region = Rect2(636, 0, 106, 116)

[sub_resource type="AtlasTexture" id="AtlasTexture_60thp"]
atlas = ExtResource("2_1pyf5")
region = Rect2(742, 0, 106, 116)

[sub_resource type="SpriteFrames" id="SpriteFrames_fu502"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r1ff7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yavmg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sddl4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vrqmr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_58hu5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k1pag")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fu502")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_60thp")
}],
"loop": false,
"name": &"damaged",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_58hu5")
}],
"loop": false,
"name": &"down",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_k1pag")
}],
"loop": false,
"name": &"up",
"speed": 10.0
}]

[sub_resource type="AudioStreamPlaylist" id="AudioStreamPlaylist_58hu5"]
loop = false
stream_count = 2
stream_0 = ExtResource("6_sddl4")
stream_1 = ExtResource("7_vrqmr")

[node name="Thunderbolt" instance=ExtResource("1_v7hqp")]
script = ExtResource("2_r1ff7")
leap_distance_ratio = 0.2
leap_damage = 10

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="." index="0"]
sprite_frames = SubResource("SpriteFrames_fu502")
animation = &"up"
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="." index="9"]
build_mode = 1
polygon = PackedVector2Array(-51, 11, -21, -19, -10, -47, 0, -58, 10, -47, 21, -18, 50, 11, 50, 30, 31, 26, 31, 38, 22, 35, 14, 38, 13, 30, 0, 53, -12, 31, -14, 38, -23, 34, -32, 38, -31, 25, -52, 30)

[node name="ThunderstormTimer" type="Timer" parent="." index="10"]
wait_time = 8.0

[node name="ThunderstormCooldownTimer" type="Timer" parent="." index="11"]
wait_time = 0.1

[node name="ThunderLeapSound" type="AudioStreamPlayer" parent="." index="12"]
stream = SubResource("AudioStreamPlaylist_58hu5")
bus = &"efx"

[connection signal="timeout" from="ThunderstormTimer" to="." method="_on_thunderstorm_timer_timeout"]
[connection signal="timeout" from="ThunderstormCooldownTimer" to="." method="_on_thunderstorm_cooldown_timer_timeout"]
